<!DOCTYPE html>
<html lang="en">

<head>
  <title>Draaag</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="lib/prism.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Pacifico" rel="stylesheet">
  <script src="lib/prism.js"></script>
  <script src="src/draaag.js"></script>

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: 'Open Sans', sans-serif;
    }

    html{
      font-size: 62.5%;
    }
    body{
      font-size: 1.6rem/1.4;
    }
    .clearfix::after {
      content: ' ';
      display: block;
      height: 0;
      font-size: 0;
      visibility: hidden;
      clear: both;
    }

    .container {
      width: 70%;
      margin: 0 auto;
    }

    header {
      background-color: #3B99D8;
      padding: 5em;
    }

    .logo {
      color: #fff;
      font-family: 'Pacifico', cursive;
      font-size: 4em;
      margin: 0;
      text-align: center;
    }

    .description {
      font-size: 1.2em;
      color: #fff;
      text-align: center;
    }

    .section-title {
      color: #3B99D8;
      font-family: 'Pacifico', cursive;
      font-size: 2em;
      text-align: center;
    }

    .demo1 {
      border-radius: 5px;
      background-color: #88c3ea;
    }

    .demo1 ul {
      position: relative;
      padding: .8em 0;
    }

    .demo1 li {
      width: 10em;
      margin: 1em auto;
      list-style: none;
      text-align: center;
      background-color: #fff;
      color: #88c3ea;
      font-size: 1.5em;
      line-height: 1.5em;
      border: 5px solid #fff;
      border-radius: 3px;
    }

    .demo1 .dragElClass {
      opacity: .7;
    }

    .demo-title {
      font-size: 1.5em;
      line-height: 1.5em;
      margin: 0 0 1em 0;
      color: #88c3ea;
      text-align: center;
    }

    .demos .line {
      display: block;

      margin: 2.5em;
      border-bottom: solid 1px #88c3ea;
    }
    .horizontal{
      height: 100%;
    }
    .demo-h {
      text-align: center;
      padding: 0;
    }

    .demo-h .item {
      display: inline-block;
      list-style: none;
      /*float: left;*/
      width: 5rem;
      height: 5rem;
      margin-left: 1rem;
      margin-top:1rem;
      line-height: 5rem;
      background-color: #88c3ea;
      color: #fff;
      font-size: 16px;
      text-align: center;
      border-radius: 3px;
    }

    .demo-handle .handle {
      float: left;
      width: 3em;
      height: 3em;
      background-color: #88c3ea;
      border-radius: 3px;
    }

    .demo-handle .handle:hover {
      background-color: #3b99d8;
    }

    .demo-han {
      margin: 0 auto;
      width: 19.5em;
    }

    .demo-han-item {
      margin-bottom: 1.5em;
    }

    .demo-han .item-content {
      float: left;
      margin-left: 1em;
      width: 15em;
      line-height: 3em;
      background-color: #88c3ea;
      color: #fff;
      text-align: center;
      border-radius: 3px;
    }

    .demo-cb,
    .status,
    .demo-met,
    .control {
      float: left;
    }

    .demo-cb,
    .demo-met {
      width: 55%;
    }

    .status,
    .control {
      width: 35%;
      margin-top: 1em;
      color: #3B99D8;
    }

    .demo-cb-item,
    .demo-met-item {
      list-style: none;
      width: 15em;
      line-height: 2.5em;
      margin: 1em auto;
      text-align: center;
      background-color: #88c3ea;
      color: #fff;
      border-radius: 3px;
    }

    .status .title {
      font-weight: 700;
    }

    .parameters {
      padding: 0;
      list-style: none;
    }

    .parameter .title {
      font-size: 1.2em;
      font-weight: 700;
      color: #3B99D8;
    }

    .parameter .type {
      margin-left: 1em;
      color: #88c3ea;
    }

    .control .btn {
      display: block;
      width: 10em;
      border: 1px solid #88c3ea;
      line-height: 1.5em;
      margin: 1em 0;
      font-size: 1em;
      background-color: #fff;
      color: #88c3ea;
      border-radius: 3px;
      cursor: pointer;
    }

    .btn.off,
    .btn.off:active {
      background-color: #fff;
      border: 2px solid #dbdbdb;
      color: #dbdbdb;
      cursor: default;
    }

    .ribbon{
      position: absolute;
      right: 0;
      top: 0;
    }

    .ribbon img{
      width: 12em;
      height: auto;
    }
  </style>
</head>

<body>
  <a class="ribbon" href="https://github.com/shuangq/DragPlugin" target="_blank">
    <img src="./img/gh-ribbon.png" alt="Fork me on Github">
  </a>
  <header>
    <h1 class="logo">Draaag</h1>
    <p class="description">A Javascript drag and drop plugin</p>
  </header>
  <div class="container">
    <section class="feature">
      <h5 class="section-title">Feature</h5>
      <ul>
        <li>You can use Draaag to create draggable and sortble list easily</li>
        <li>Browser support: desktop (IE8+) and touch device</li>
        <li>Support vertical list and horizontal list</li>
        <li>Also works for editable list</li>
        <li>You can set the whole item draggable, or use a handle</li>
        <li>Support dragover animation</li>
        <li>No jQuery required</li>
      </ul>
    </section>
    <section class="basic-usage">
      <h5 class="section-title">Getting Started</h5>
      <p>Set up your HTML markup.</p>
      <pre>
      <code class="language-markup">
        <script type="text/plain">
        <ul id="dragList">
          <li class="drag-item">item1</li>
          <li class="drag-item">item2</li>
          <li class="drag-item">item3</li>
        <ul>
        </script>
      </code>
    </pre>
      <p>Also your script:</p>
      <pre>
      <code class="language-javascript">
        var el = document.getElementById('dragList');
        var dragList = new Draaag(el);
      </code>
    </pre>
      <div class="demo1">
        <ul id="dragList">
          <li class="drag-item">item1</li>
          <li class="drag-item">item2</li>
          <li class="drag-item">item3</li>
        </ul>
        <script>
          var el1 = document.getElementById('dragList');
          var demo1 = new Draaag(el1);
        </script>
      </div>
      <p>You can set anything to the draggable item by giving it a classname "drag-item". If you don't like this name you can also change it in the config option.</p>
    </section>

    <section class="customization">
      <h5 class="section-title">Customization</h5>
      <p>Here is all the configuration options and their default value:</p>
      <pre>
        <code class="language-javascript">
  var drag = new Draaag(list, {
           dragItemClass: 'drag-item',
           // classname of the draggable items

           chosenElClass: 'chosenEl',
           // classname of the current dragging item

           dragElClass: 'dragElClass',
           // classname of the appended ghost layer

           dragElId: 'dragElId',
           // id of the appended ghost layer

           handle: null,
           // if you want to use handle, set the classname of the handles here

           enableDrag: true,
           // if set to false, items are not draggable

           pointerX: 0,
           // the horizontal distance between the pointer and the ghost; px

           pointerY: 0,
           // the vertical distance between the pointer and the ghost; px

           ifHide: false,
           // whether to hide the original item when it is being dragged

           minMove: 3,
           // the drag sensitivity; px

           ifAnimated: false,
           // whether to enable dragover animation
           // * Not supported in IE9 and older version *

           aniDuration: 300,
           // duration of the dragover animation; ms

           // CALLBACKS
           onDrag: function(){},    // when drag starts
           onMove: function(){},    // while dragging
           onDrop: function(){},    // when drop
       });
        </code>
      </pre>
    </section>
    <section class="demos">
      <h5 class="section-title">Demos</h5>
      <div class="demo2">
        <h5 class="demo-title">Horizontal List</h5>
        <div class="horizontal clearfix">
          <ul class="demo-h clearfix" id="js_listH">
            <li class="item item1 demo-h-item">1</li>
            <li class="item item2 demo-h-item">2</li>
            <li class="item item3 demo-h-item">3</li>
            <li class="item item4 demo-h-item">4</li>
            <li class="item item5 demo-h-item">5</li>
            <li class="item item5 demo-h-item">6</li>
          </ul>
          <script>
            var listH = document.getElementById('js_listH');
            var demoDragHor = new Draaag(listH, {
              dragItemClass: 'demo-h-item'
            });
          </script>
        </div>
        <div class="line"></div>
      </div>

      <div class="demo3">
        <h5 class="demo-title">Using Handle & Animation</h5>
        <div class="demo-handle">
          <div class="demo-han" id="js_listHan">
            <div class="item demo-han-item clearfix">
              <div class="handle"></div>
              <div class="item-content">item 1</div>
            </div>
            <div class="item demo-han-item clearfix">
              <div class="handle"></div>
              <div class="item-content">item 2</div>
            </div>
            <div class="item demo-han-item clearfix">
              <div class="handle"></div>
              <div class="item-content">item 3</div>
            </div>
            <div class="item demo-han-item clearfix">
              <div class="handle"></div>
              <div class="item-content">item 4</div>
            </div>
          </div>
          <script>
            var listHan = document.getElementById('js_listHan');
            var demoHan = new Draaag(listHan, {
              dragItemClass: 'demo-han-item',
              handle: 'handle',
              ifHide: true,
              ifAnimated: true
            });
          </script>
        </div>
        <div class="line"></div>
      </div>

      <div class="demo4">
        <h5 class="demo-title">Callbacks</h5>
        <div class="callbacks clearfix">
          <ul class="demo-cb" id="js_listCb">
            <li class="item demo-cb-item">item 1</li>
            <li class="item demo-cb-item">item 2</li>
            <li class="item demo-cb-item">item 3</li>
          </ul>
          <div class="status">
            <p class="title">Status</p>
            <p>Start pos: <span id="js_startPos"> </span></p>
            <p>Current pos: <span id="js_curPos"> </span></p>
            <p>Drop pos: <span id="js_dropPos"> </span></p>
          </div>
        </div>
      </div>
      <script>
        var listCb = document.getElementById('js_listCb');
        var startPos = document.getElementById('js_startPos'),
          curPos = document.getElementById('js_curPos'),
          dropPos = document.getElementById('js_dropPos');
        var demoCb = new Draaag(listCb, {
          dragItemClass: 'demo-cb-item',
          ifAnimated: true,
          ifHide: true,
          // Callbacks
          onDrag: () => {
            startPos.innerHTML = 'X: ' + demoCb.state.startX + ', Y: ' + demoCb.state.startY;
          },
          onMove: () => {
            curPos.innerHTML = 'X: ' + demoCb.state.curX + ', Y: ' + demoCb.state.curY;
          },
          onDrop: () => {
            dropPos.innerHTML = 'X: ' + demoCb.state.dropX + ', Y: ' + demoCb.state.dropY;
          }
        });
      </script>

      <p>You can access to the status parameter by using <code class="language-javascript">draaag.state.[parameter]</code>. Here are the parameters that it currently exposed:</p>
      <ul class="parameters">
        <li class="parameter">
          <p><span class="title">direction</span><span class="type">{String}</span></p>
          <p>The type of the list:</p>
          <ul class="para-value">
            <li><strong>vertical</strong>: default value;</li>
            <li><strong>horizontal</strong>: if one or more of <code class="language-css">float</code>, <code class="language-css">display: inline-block</code>, <code class="language-css">display: inline</code> is applied on the list, the list is considered
              to be a horizontal list.</li>
          </ul>
        </li>
        <li class="parameter">
          <p><span class="title">itemCount</span><span class="type">{Number}</span></p>
          <p>The number of the draggable items.</p>
        </li>
        <li class="parameter">
          <p><span class="title">ifDragging</span><span class="type">{Boolean}</span></p>
          <p>The value is set to <strong>True</strong> when start dragging, and <strong>False</strong> when the item is dropped.</p>
        </li>
        <li class="parameter">
          <p><span class="title">innerX / innerY</span><span class="type">{Number}</span></p>
          <p>The initial position of the mouse relative to the dragged item.</p>
        </li>
        <li class="parameter">
          <p><span class="title">startX / startY</span><span class="type">{Number}</span></p>
          <p>The position of the mouse relative to the viewport when you start dragging.</p>
        </li>
        <li class="parameter">
          <p><span class="title">curX / curY</span><span class="type">{Number}</span></p>
          <p>The position of the mouse relative to the viewport while dragging.</p>
        </li>
        <li class="parameter">
          <p><span class="title">dropX / dropY</span><span class="type">{Number}</span></p>
          <p>The position of the mouse relative to the viewport when you drop the dragged item.</p>
        </li>
      </ul>
    </section>
    <section class="methods">
      <h5 class="section-title">Methods</h5>
      <ul class="parameters">
        <li class="parameter">
          <p><span class="title">enableDrag()</span></p>
          <p>Enable the drag feature.</p>
        </li>
        <li class="parameter">
          <p><span class="title">disableDrag()</span></p>
          <p>Disable the drag feature. Items become undraggable.</p>
        </li>
        <li class="parameter">
          <p><span class="title">update()</span></p>
          <p>Update the state of the list. This method is useful if you want a dynamic list. Call this function whenever you add a new item to the list.</p>
        </li>
      </ul>

      <div class="demo5">
        <div class="demo-methods clearfix">
          <ul class="demo-met" id="js_listMet">
            <li class="item demo-met-item">item 1</li>
            <li class="item demo-met-item">item 2</li>
            <li class="item demo-met-item">item 3</li>
          </ul>
          <div class="control">
            <button class="btn" id="js_btnDisable">Disable Drag</button>
            <button class="btn off" id="js_btnEnable">Enable Drag</button>
            <button class="btn" id="js_btnAddItem">Add Item</button>
          </div>
        </div>

        <script>
          var listMet = document.getElementById('js_listMet');
          var btnEnable = document.getElementById('js_btnEnable'),
            btnDisable = document.getElementById('js_btnDisable'),
            btnAddItem = document.getElementById('js_btnAddItem');
          var count = 3;
          var demoMet = new Draaag(listMet, {
            dragItemClass: 'demo-met-item',
            ifHide: true,
          });

          btnDisable.addEventListener('click', function(e) {
            btnDisable.className = 'btn off';
            btnEnable.className = 'btn';

            /*禁用拖拽*/
            demoMet.disableDrag();
          }, false);

          btnEnable.addEventListener('click', function(e) {
            btnEnable.className = 'btn off';
            btnDisable.className = 'btn';

            /*启用拖拽*/
            demoMet.enableDrag();
          }, false);

          btnAddItem.addEventListener('click', function(e) {
            var newItem = document.createElement('li');
            newItem.className = 'item demo-met-item';
            newItem.innerHTML = 'item ' + ++count;
            listMet.appendChild(newItem);

            /*更新列表*/
            demoMet.update();
          }, false);
        </script>
      </div>
    </section>

  </div>
</body>

</html>
